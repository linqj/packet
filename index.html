<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="format-detection" content="telephone=no" />
    <meta name="applicable-device" content="mobile" />
    <meta name="referrer" content="always" />
    <meta
      name="viewport"
      content="width=device-width, height=device-height, user-scalable=no, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0"
    />
    <title>红包活动</title>
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      html,
      body {
        width: 100%;
        height: 100%;
        min-width: 320px;
        max-width: 750px;
        margin: 0 auto;
        -webkit-tap-highlight-color: transparent;
      }
      html {
        font-size: 10px;
      }
      .app {
        width: 100%;
        overflow: hidden;
        height: 100%;
        background: #e4f1ff;
        background: url("./images/background.jpg") no-repeat;
        background-size: cover;
        background-position: center;
      }
      .text-des {
        width: 90%;
        height: auto;
        display: block;
        margin: 0 auto;
      }
      .package {
        width: 100%;
        height: 100%;
      }
    </style>
  </head>
  <body>
    <div class="app">
      <audio
        src="xiu.mp3"
        id="myaudio"
        controls="controls"
        hidden="true"
        preload="load"
      ></audio>
      <!-- <svg style="display:inline-block;width:100%;height:100%;">
        <image x="0" y="0"
          width="200" height="126"
          xlink:href="./images/start_text.png"/>
      </svg> -->
      <svg
        style="display:inline-block;width:750px;height:1000px;"
        xmlns="http://www.w3.org/2000/svg"
        id="mySVG"
        viewBox="0 0 750 1000"
        preserveAspectRatio="xMidYMid meet"
      >
        <!-- <image x="0" y="0"
      width="200" height="126"
      xlink:href="./images/start_text.png"/> -->
        <!-- 第一页 -->
        <!-- <g> -->
        <image
          xlink:href="./images/start_text.png"
          x="40"
          y="185"
          width="300"
          height="105"
        >
          <animate
            attributeName="opacity"
            from="1"
            to="0"
            begin="startButton.click"
            dur="0.1s"
            fill="freeze"
            restart="never"
          />
        </image>

        <g id="circleButton">
          <!-- 朦胧的黄色背景 -->
          <!-- <circle
            cx="180"
            cy="365"
            r="64"
          fill="#787157"
          opacity=0.4
          > -->
          <!-- </circle>  -->
          <!-- 实心圆  #ffe721 -->
          <circle cx="190" cy="365" r="38" fill="#ffe405" opacity="0.9">
            <animate
              attributeName="fill"
              from="#fee233"
              to="#fcdb54"
              begin="0s"
              dur="1s"
              repeatCount="indefinite"
            />
          </circle>
          <!-- 第一条虚线 -->
          <circle
            cx="190"
            cy="365"
            r="40"
            fill="none"
            stroke="#ffe405"
            stroke-width="2"
            opacity="0.9"
          >
            <animate
              attributeName="r"
              from="40"
              to="52"
              begin="0s"
              dur="1s"
              repeatCount="indefinite"
            />
            <animate
              attributeName="opacity"
              from="0.9"
              to="0"
              begin="0s"
              dur="1s"
              repeatCount="indefinite"
            />
          </circle>
          <!-- 第二条虚线 -->
          <circle
            cx="190"
            cy="365"
            r="46"
            fill="none"
            stroke="#ffe405"
            stroke-width="1.8"
            opacity="0.6"
          >
            <animate
              attributeName="r"
              from="46"
              to="54"
              begin="0s"
              dur="1s"
              repeatCount="indefinite"
            />
            <animate
              attributeName="opacity"
              from="0.6"
              to="0"
              begin="0s"
              dur="1s"
              repeatCount="indefinite"
            />
          </circle>
          <!-- 第3条虚线 -->
          <circle
            cx="190"
            cy="365"
            r="50"
            fill="none"
            stroke="#ffe405"
            stroke-width="1.5"
            opacity="0.3"
          >
            <animate
              attributeName="r"
              from="50"
              to="58"
              begin="0s"
              dur="1s"
              repeatCount="indefinite"
            />
            <animate
              attributeName="opacity"
              from="0.3"
              to="0"
              begin="0s"
              dur="1s"
              repeatCount="indefinite"
            />
          </circle>
          <!-- 第4条虚线 -->
          <circle
            cx="190"
            cy="365"
            r="58"
            fill="none"
            stroke="#ffe405"
            stroke-width="1.5"
            opacity="0.1"
          >
            <animate
              attributeName="r"
              from="58"
              to="64"
              begin="0s"
              dur="1s"
              repeatCount="indefinite"
            />
            <animate
              attributeName="opacity"
              from="0.1"
              to="0"
              begin="0s"
              dur="1s"
              repeatCount="indefinite"
            />
          </circle>
        </g>
        <g id="startButton" onclick="startGame()">
          <text x="165" y="360" fill="#d12e1b" font-size="25" font-weight="700">
            开始
            <animate
              attributeName="opacity"
              from="1"
              to="0"
              begin="startButton.click"
              dur="0.1s"
              fill="freeze"
              restart="never"
            />
          </text>
          <text x="165" y="387" fill="#d12e1b" font-size="25" font-weight="700">
            游戏
            <animate
              attributeName="opacity"
              from="1"
              to="0"
              begin="startButton.click"
              dur="0.1s"
              fill="freeze"
              restart="never"
            />
          </text>
        </g>

        <!-- <image
          xlink:href="./images/star.gif"
          x="140"
          y="350"
          width="135"
          height="135"
          id="startButton"
          onclick="startGame()"
        >
          <animate
            attributeName="opacity"
            from="1"
            to="0"
            begin="click"
            dur="0.1s"
            fill="freeze"
            restart="never"
          />
        </image> -->
        <!-- </g> -->
        <!-- 第一页 -->
        <!-- 第二页 -->
        <g id="twoPage">
          <!-- <circle
          cx="500"
          cy="410"
          r="35"
          fill="none"
          stroke="#fede66"
          stroke-width="3"
          opacity=0
        >
        <animate
        attributeName="cx"
        from="500"
        to="199"
        begin="startButton.click"
        dur="0.1s"
        fill="freeze"
      />
          <animate
            attributeName="r"
            from="35"
            to="75"
            begin="runButton.click"
            dur="0.1s"
          />
          <animate
          attributeName="opacity"
          values="0;0.8;0.6;0.4;0.2;0;"
          begin="runButton.click"
          dur="0.1s"
          fill="freeze"
        />
        </circle> -->
          <image
            xlink:href="./images/draw_text.png"
            x="25"
            y="185"
            width="300"
            height="105"
            opacity="0"
          >
            <animate
              attributeName="opacity"
              from="0"
              to="1"
              begin="startButton.click"
              dur="0.2s"
              fill="freeze"
              restart="never"
            />
          </image>
          <text
            x="300"
            y="380"
            fill="#d12e1b"
            font-size="38"
            opacity="0"
            id="runButton"
            font-weight="700"
            onclick="showPackage()"
          >
            咻
            <animate
              attributeName="x"
              from="300"
              to="172"
              begin="startButton.click"
              dur="0.1s"
              fill="freeze"
              restart="never"
            />
            <animate
              attributeName="opacity"
              from="0"
              to="1"
              begin="startButton.click"
              dur="0.1s"
              fill="freeze"
              restart="never"
            />
          </text>
          <!-- <image
            xlink:href="./images/draw.png"
            x="280"
            y="353"
            id="runButton"
            width="10rem"
          height="10rem"
            opacity="0"
            onclick="showPackage()"
          >
          <animate
          attributeName="x"
            from="280"
            to="140"
            begin="startButton.click"
            dur="0.1s"
            fill="freeze"
            restart="never"
        />
            <animate
              attributeName="opacity"
              from="0"
              to="1"
              begin="startButton.click"
              dur="0.1s"
              fill="freeze"
            />
          </image> -->
        </g>
        <g id="parent">
          <rect
            x="0"
            y="0"
            opacity="0.5"
            height="1000"
            width="750"
            fill="#000000"
          />
          <image
            xlink:href="./images/result_text.png"
            x="20"
            y="90"
            width="335"
            height="260"
          />
          <image
            xlink:href="./images/button_background.png"
            x="22"
            y="310"
            width="325"
            height="200"
          />
          <image
            xlink:href="./images/button.png"
            x="0"
            y="395"
            width="375"
            height="48"
            onclick="goToActive()"
          />
        </g>
        <g id="loading"></g>
      </svg>
    </div>
    <script>
      var myAuto = document.getElementById("myaudio");
      var num = 0;
      var oldTime = null;
      var isStart = false;
      var svgDoc = document.getElementById("parent");
      var circleButton = document.getElementById("circleButton");
      var twoPage = document.getElementById("twoPage");
      var loading = document.getElementById("loading");
      function startGame() {
        isStart = true;
        myAuto.play();
        myAuto.pause();
      }
      function showPackage() {
        //判断是否已经点击了开始游戏，不然不允许进行咻一咻
        if (isStart) {
          // if(myAuto.paused){
          //   alert(1);
          myAuto.play();
          // }
          console.log(123456);
          if (num != 3) {
            num = num + 1;
          } else if (num == 3) {
            let child =
              '<rect x="0" y="0" opacity="0.5"  height="1000" width="750"  fill="#000000"/><image xlink:href="./images/result_text.png" x="0" y="120" width="375" height="202"/><image xlink:href="./images/button_background.png" x="0" y="320" width="375" height="104"/><image xlink:href="./images/button.png" x="0" y="395" width="375" height="48" onclick="goToActive()"/>';
            setTimeout(function() {
              svgDoc.innerHTML = child;
              twoPage.innerHTML = "";
              circleButton.innerHTML = "";
            }, 1000);
          }
        }
      }

      function goToActive() {
        let child =
          '<rect x="0" y="0" opacity="0.8"  height="1000" width="750"  fill="#732123"></rect><image xlink:href="./images/lailai.gif" x="0" y="180" width="375" height="199"/>';
        loading.innerHTML = child;
        window.location.href = "https://www.baidu.com/";
      }
    </script>
  </body>
</html>
